# המתיישבים של קטאן - Settlers of Catan

פרויקט מימוש משחק הקופסה "המתיישבים של קטאן" ב-TypeScript עם ארכיטקטורה מודולרית ומסודרת.

##  מטרת הפרויקט

בניית מנוע משחק מלא לקטאן עם:
- **ארכיטקטורה נקייה** - הפרדה ברורה בין קונפיגורציה, מודלים, חוקים ובקר
- **Type Safety** - שימוש ב-TypeScript למניעת שגיאות ולמבנה חזק
- **מודולריות** - חלוקה קלה למשימות לסוכנים שונים
- **הרחבתיות** - תכנון מראש למולטיפלייר ו-UI

##  מבנה הפרויקט

```
katan.ai/
 docs/                    # תיעוד ותכנון
    architecture-plan.md # תכנית הארכיטקטורה המפורטת
 config/                  # קבצי קונפיגורציה (JSON)
    board.json          # מבנה הלוח והגרף
    costs.json          # מחירון בניה
    resources.json      # מלאי משאבים וקלפים
 src/
    models/             # מבני נתונים בסיסיים
       Player.ts
       ResourceTile.ts
       Vertex.ts
       Edge.ts
    rules/              # חוקי משחק מודולריים
       DiceRules.ts
       RobberRules.ts
       TradingRules.ts
       BuildingRules.ts
    game/               # מנוע המשחק
       GameState.ts    # Immutable state
       GameEngine.ts   # בקר ראשי
    board/              # גנרטור לוח וגרף
       BoardGenerator.ts
       HexGraph.ts
    managers/           # מנהלי משאבים
        ResourceManager.ts
 README.md
```

##  טכנולוגיות

- **שפה:** TypeScript
- **סביבת ריצה:** Node.js
- **ממשק (שלב 1):** CLI
- **ממשק (שלב 2):** Web UI (React/Vue)

##  תיעוד

תכנית הארכיטקטורה המלאה נמצאת ב-[`docs/architecture-plan.md`](./docs/architecture-plan.md)

### נתונים פיזיים מרכזיים

- **19 אריחי שטח:** 4 יער, 4 חיטה, 4 כבשים, 3 הרים, 3 גבעות, 1 מדבר
- **18 אסימוני מספרים:** 2-12 (ללא 7)
- **9 נמלי סחר:** 4 כלליים (3:1), 5 ספציפיים (2:1)
- **גרף:** 54 קודקודים, 72 צלעות
- **3-4 שחקנים** (בסיסי)

### חוקים עיקריים

- **קוביות:** זריקה מייצרת משאבים (כפר=1, עיר=2), שביעייה מפעילה שוד
- **בניה:** כביש (1 לבנה+1 עץ), כפר (1 לבנה+1 עץ+1 צמר+1 חיטה), עיר (3 עפרות+2 חיטה)
- **סחר:** 4:1 עם בנק, 3:1 נמל כללי, 2:1 נמל ספציפי
- **ניצחון:** 10 נקודות (כפר=1, עיר=2, דרך ארוכה=2, צבא גדול=2)

##  צעדים ראשונים

1. הקמת פרויקט TypeScript עם תיקיות
2. יצירת קבצי JSON בסיסיים
3. מודלים בסיסיים (Tile, Vertex, Edge, Player)
4. מערכת גרף (HexGraph)
5. מצב משחק (GameState - Immutable)
6. מנוע משחק (GameEngine - פקודות אטומיות)

##  עקרונות עיצוב

- **Immutability:** כל מצב משחק בלתי ניתן לשינוי ישיר
- **Single Source of Truth:** GameState הוא המקור היחיד לאמת
- **Atomic Commands:** כל פעולה היא פקודה אטומית (RollDice, BuildRoad, etc.)
- **Validation Layer:** כל שינוי עובר ולידציה ב-Rules
- **Separation of Concerns:** הפרדה מוחלטת בין לוגיקה לתצוגה

##  רישיון

MIT

---

**תאריך יצירה:** נובמבר 2025  
**גרסה:** 0.1.0 (תכנון ראשוני)